<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Bootstrap ì»´í¼ë„ŒíŠ¸ : ë™ì ìœ¼ë¡œ ì¹´ë“œ ì¶”ê°€</title>
    <style>
        /* í—¤ë” */
        header {
            width:100%;
            height: 100px;
            background-color: greenyellow;
        }

        header > div {
            text-align:center;
            padding-top:20px;
            font-family:'Merienda', cursive;
            font-size: 40px;
            font-weight: bold;
        }

        /* í‘¸í„° */
        footer{   
            width: 100%;                      /* ë„ˆë¹„ */
            height:100px;                     /* ë†’ì´ */
            border-top:2px double black;    /* ê°€ë¡œì„  */
        }

        footer > div {
            text-align:center;
            font-family:'Times New Roman';
            font-size: 20px;
            padding: 15px;
        }
    </style>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

    <header>
        <div>ìœ ê¸°ë™ë¬¼ ë³´í˜¸ì†Œ</div>
    </header>

    <main>
        
    <!-- ê·¸ë¦¬ë“œë¥¼ ë§Œë“¤ê³  í–‰ë³„ë¡œ ì¹´ë“œ 2~3ì¥ì”© ë„£ì–´ ë³¸ë‹¤. -->
        <div class="container">
            <div class="row my-3">

                <!-- ë‚˜ì¤‘ì— ì¹´ë“œê°€ ë™ì ìœ¼ë¡œ ì‚½ì…ë  ìë¦¬ -->
            
            </div>  <!-- Rowì˜ ë-->
        </div>   <!-- End of container. -->
    </main>

    <footer>
        <div>
        êµ¬ë¦„ ğŸ’™
        </div>
    </footer>

    <!-- ì¹´ë“œ í…œí”Œë¦¿ -->      
    <div id = "cardTemplate" style ="display:none">      <!--ì¼ë‹¨ì€ ìˆ¨ê²¨ì§„ ì±„ë¡œ ë‘”ë‹¤.--> 
    <div class="col-md-4 col-sm-6 my-3">
        <div class="card" style="width: 100%">
            <img src="" class="card-img-top" alt="...">
            <div class="card-body">
                <h5 id = "myTitle" class="card-title">ì œëª©</h5>
                <p id = 'myID' class="card-text"> <b> ID : </b> <span> </span></p>
                <p id = 'myBreed' class="card-text"> <b> í’ˆì¢… : </b> <span> </span></p>
                <p id = "myAge" class ="card-text"> <b> ë‚˜ì´ : </b> <span> </span></p>
                <button type="button" class="m-4 btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal" style="display:inline">ì…ì–‘í•˜ê¸°</button>
                <button type="button" class="m-4 btn btn-primary" style="display:none" >ì…ì–‘ì ì •ë³´</a>   <!--ì¼ë‹¨ì€ ìˆ¨ê²¨ì§„ ì±„ë¡œ ë‘”ë‹¤.--> 
            </div>
            </div>
    </div>
    </div>

    <!-- ëª¨ë‹¬ì°½ ì¤€ë¹„ -->
    <div class="modal" tabindex="-1" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">ë‹¤ìŒ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <input type="hidden" id="myID" />                 <!-- ì¹´ë“œì—ì„œ ê°€ì ¸ì˜¨ ID ì •ë³´ë¥¼ ì €ì¥í•´ ë‘ëŠ” ê³³. -->
              <input type="text" class="form-control" id="name" placeholder="ì…ì–‘ì ì´ë¦„" />
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
              <button type="button" class="btn btn-primary" onclick="submitModal()">ì…ì–‘ í™•ì¸!</button>
            </div>
          </div>
        </div>
      </div>


    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!--  jQueryë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤. -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> -->
    <script src="./js/jquery-3.7.1.min.js"></script>
    <script>

    // Documentê°€ readyí•˜ë©´ ë‹¤ìŒì„ ì‹¤í–‰í•œë‹¤.
    $( function(){

        // ìœ ê¸°ë™ë¬¼ ì •ë³´ë¥¼ JSON íŒŒì¼ì—ì„œ ë¶ˆëŸ¬ì˜¨ë‹¤.
        $.getJSON('./js/pet-animals.json', function(data){          // ìœ ê¸°ë™ë¬¼ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¨ ì´í›„ ì½œë°±í•¨ìˆ˜ ì‹¤í–‰.
            let cardTemplate = $('#cardTemplate')                   // ì¹´ë“œ í…œí”Œë ˆì´íŠ¸ ê°€ì ¸ì˜¤ê¸°.
            data.forEach( (x) => {
                cardTemplate.find('img').attr('src', x.src)
                cardTemplate.find('#myTitle').text(x.title)
                cardTemplate.find('#myID').find('span').text(x.id)
                cardTemplate.find('#myBreed').find('span').text(x.breed)
                cardTemplate.find('#myAge').find('span').text(x.age)
                $('.row').append(cardTemplate.html())               // ì¤€ë¹„ëœ ì¹´ë“œ í…œí”Œë ˆì´íŠ¸ ì‚½ì…!                             
            });

        })

        // ëª¨ë‹¬ì°½ì´ ë³´ì—¬ì§€ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ë§ í•¨ìˆ˜ ë¶€ì°©!
        $('#myModal').on('shown.bs.modal', (e) =>{
            // $(e.relatedTarget).parent()ëŠ” ëª¨ë‹¬ì„ í˜¸ì¶œí•œ ë¶€ëª¨.
            // $(e.currentTarget)ëŠ” ëª¨ë‹¬ ìì²´.

            let id = $(e.relatedTarget).parent().find('#myID').find('span').text()    // ëª¨ë‹¬ì„ í˜¸ì¶œí•œ ì¹´ë“œì˜ ID ê°’!
            $(e.currentTarget).find('#myID').val(id)                                  // ê°€ì ¸ì˜¨ IDë¥¼ ëª¨ë‹¬ì°½ì˜ ìˆ¨ê²¨ì§„ ê°’ìœ¼ë¡œ ì €ì¥.
            $(e.currentTarget).find('#name').val('')                                  // ì…ì–‘ì ì´ë¦„ ì´ˆê¸°í™”.

        })

    })

    // ê¸°íƒ€ ì´ë²¤íŠ¸ ì²˜ë¦¬ í•¨ìˆ˜.
    function submitModal(){
        let id = $('#myModal').find('#myID').val()                   // ëª¨ë‹¬ì°½ì´ í’ˆê³  ìˆë˜ ID.
        let name = $('#myModal').find('#name').val()                 // ëª¨ë‹¬ì°½ìœ¼ë¡œ ì…ë ¥ëœ ì…ì–‘ì ë°ì´í„°.
        console.log(`ID = ${id}ëŠ” ${name}ì—ê²Œ ì…ì–‘ë˜ì—ˆìŠµë‹ˆë‹¤!`)
        $('#myModal').find('#myID').val(0)          // ë¦¬ì…‹!
        $('#myModal').find('#name').val('')         // ë¦¬ì…‹! 
        $('#myModal').modal('hide')                 // ëª¨ë‹¬ì°½ì„ ìˆ¨ê¸°ë‹¤.
    }

    </script>

</body>
</html>